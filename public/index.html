<!doctype html>
<html>
	<head>
		<meta charset="UTF-8" />
		<title>kitty</title>
		<script src="libs/phaser-official/build/phaser.js"></script>
	</head>
	<body>

	<script type="text/javascript">

	window.onload = function() {

		var game = new Phaser.Game(800, 600, Phaser.AUTO, '', { preload: preload, create: create, update: update });
		var printf;
		var frame = 0;

		function preload () {

			game.physics.startSystem(Phaser.Physics.ARCADE);
			game.load.crossOrigin = "anonymous"
			game.load.image('kitty0', randurl());
			game.load.image('kitty1', randurl());
			game.load.image('kitty2', randurl());
			game.load.image('kitty3', randurl());
			game.load.image('kitty4', randurl());
			game.load.image('kitty5', randurl());
			// game.load.image('kitty6', randurl());
			// game.load.image('kitty7', randurl());
			// game.load.image('kitty8', randurl());
			// game.load.image('kitty9', randurl());
			// game.load.image('kitty10', randurl());
			// game.load.image('kitty11', randurl());
			// game.load.image('kitty12', randurl());
			// game.load.image('kitty13', randurl());
			// game.load.image('kitty14', randurl());
			// game.load.image('kitty15', randurl());
			// game.load.image('kitty16', randurl());
			// game.load.image('kitty17', randurl());
			// game.load.image('kitty18', randurl());
			// game.load.image('kitty19', randurl());
			game.load.image('printf', 'printf.png');
			game.load.image('0', '0.png');
			game.load.image('1', '1.png');

		}

		function create () {

			// game.physics.enable(sprite, Phaser.Physics.ARCADE);


			// var style = { font: "20px Courier New", fill: "#ffffff", align: "center" };
			// text = game.add.text(game.world.centerX, 550, "printf( )ftnirp", style);
			// text.anchor.set(0.5);

			player = game.add.sprite(game.world.centerX, 550, 'printf');
			player.anchor.setTo(0.5, 0.5);
			game.input.onDown.add(shoot, this);
			

		}

		function update () {
			console.log(frame++)
			if (frame%30 == Math.round(frame/300)) {
				var kitty = game.add.sprite(random(0,800), -250, 'kitty' + Math.round(random(0,5.5)));
				game.physics.enable(kitty, Phaser.Physics.ARCADE);
				kitty.body.gravity.y = random(75,125);
				kitty.anchor.setTo(0.5, 0.5);
			}
			player.x = game.input.position.x
		}

		function shoot (ptr) {
			var type = Math.round(random(0,1));
			var bullet = game.add.sprite(game.input.position.x, 540, String(type));
			game.physics.enable(bullet, Phaser.Physics.ARCADE);
			bullet.body.gravity.y = -random(200,250);
			bullet.anchor.setTo(0.5, 0.5);

		}

		function random (low, high) {
			return Math.random() * (high - low) + low;
		}

		function randurl () {
			return 'image/' + Math.round(random(1,100)) + '/rand.jpg';
		}

	};

	</script>

	</body>
</html>